var _0x373f=['setName','jagged','ejected','born','#E5E5E5','dead','diedBy','nameSize','drawNameSize','skin','.png','sColor','drawText','showColor','sin','cos','showSkins','clip','showMass','showNames','accessTime','showTextOutline','center','strokeText','keys','canvases','size','getElementById','chat_textbox','wheelDelta','detail','userAgent','DOMMouseScroll','body','onmousewheel','onkeydown','blur','value','focus','space','esc','onkeyup','keyCode','onblur','onmousemove','clientX','clientY','sqrt','onresize','touchCircle','addEventListener','style','display','target','splitBtn','ejectBtn','block','touchmove','pageX','pageY','touchend','touches','none','init\x20done\x20in\x20','allowGETipSet','search','requestAnimationFrame','setserver','setDarkTheme','setSkins','setNames','setGrid','setChatHide','#chat_textbox','fadeOut','slow','setMinimap','spectate','play','openSkinsList','#inPageModalTitle','Skins','get','include/gallery.php','then','text','#inPageModalBody','html','onload','keyup','trigger','Event','keydown','random','innerHeight','mousemove','innerWidth','current_players','\x20&#47;\x20','max_players','ajax','/status.json?p=','option_ffa1','FFA\x20(1)','FFA\x201','option_ffa2','FFA\x20(2)','FFA\x202','option_ffa3','FFA\x20(3)','FFA\x203','option_ffa4','FFA\x20(4)','FFA\x204','FFA\x20(5)','FFA\x205','option_ffa6','FFA\x20(6)','FFA\x206','FFA\x20(7)','option_ffaplus8','FFA\x208','option_ffaplus9','FFA\x20(9)','FFA\x209','option_ffaplus10','FFA\x20(10)','FFA\x2010','option_ffaplus11','FFA\x20(11)','FFA\x2011','option_ffaplus12','FFA\x20(12)','FFA\x2012','FFA\x20(13)','FFA\x2013','option_ffaplus14','FFA\x2014','option_ffaplus15','FFA\x20(15)','FFA\x2015','jQuery','MSIE','You\x27re\x20using\x20a\x20pretty\x20old\x20browser,\x20some\x20parts\x20of\x20the\x20website\x20might\x20not\x20work\x20properly.','now','getTime','prototype','peek','length','remove','indexOf','splice','toString','slice','invalid\x20color\x20','reset','push','setUint16','_move','setInt16','setUint32','setFloat32','setFloat64','getUint8','charCodeAt','repurpose','view','getUint16','getInt16','getUint32','getFloat32','fromCharCode','verbosity','warn','info','debug','https:','location','protocol','onopen','onerror','onclose','close','ws\x20init\x20on\x20existing\x20conn','#connecting','show','ws://','hostname','binaryType','onmessage','hide','ws\x20disconnected\x20','code','reason','readyState','build','send','data','byId','hasOwnProperty','getInt32','getStringUTF8','update','updated','setColor','setSkin','list','destroyed','destroy','mine','got\x20packer\x200x15\x20(draw\x20line)\x20which\x20is\x20unsupported','items','type','ffa','pie','left','getFloat64','top','right','bottom','width','height','centerY','byteLength','centerX','test','pingLoopId','pingLoopStamp','trim','replace','SERVER','[SERVER]\x20','[MOD]\x20','max','waitUntil','messages','parse','latency','play\x20trigger','setUint8','setStringUTF8','%*^','create','createElement','canvas','#33F','createTouch','localStorage','load','each','box-id','getItem','true','prop','checked','change','val','.save','POST','json','checkdir.php','getSkins','fadeIn','translate','scale','showChat','visible','getContext','name','color','message','darkTheme','#FFF','font','18px\x20Tahoma','measureText','fillStyle','Restart\x20in\x20','uptime','14px\x20Tahoma','#AAA','#555','textBaseline','fillText','<1\x20min','min','#000','fillRect','globalAlpha','المتصدرين','teams','beginPath','moveTo','arc','fill','exec','#DE1B1B','#2400F2','#A8CD1B','#CBE32D','#F3FAB6','save','lineWidth','closePath','stroke','strokeStyle','lineCap','round','lineTo','12345','#666','middle','textAlign','px\x20Tahoma','#FAA','restore','framesPerSecond','#111','#F2FBFF','showGrid','draw','score','30px\x20Ubuntu','20px\x20Ubuntu','Max:\x20','maxScore','13px\x20Tahoma','ms\x20-\x20','drawImage','pow'];(function(_0x293311,_0x357305){var _0x2cb87b=function(_0x3ccceb){while(--_0x3ccceb){_0x293311['push'](_0x293311['shift']());}};_0x2cb87b(++_0x357305);}(_0x373f,0x1d7));var _0x28d3=function(_0x3651ea,_0x4aef4f){_0x3651ea=_0x3651ea-0x0;var _0x53a5bf=_0x373f[_0x3651ea];return _0x53a5bf;};var wHandle=window;var wjQuery=window[_0x28d3('0x0')];if(navigator['appVersion']['indexOf'](_0x28d3('0x1'))!=-0x1)alert(_0x28d3('0x2'));Date[_0x28d3('0x3')]||(Date[_0x28d3('0x3')]=function(){return(+new Date())[_0x28d3('0x4')]();});var LOAD_START=Date['now']();Array[_0x28d3('0x5')][_0x28d3('0x6')]=function(){return this[this[_0x28d3('0x7')]-0x1];};Array[_0x28d3('0x5')][_0x28d3('0x8')]=function(_0x94b9e7){var _0x56003c=this[_0x28d3('0x9')](_0x94b9e7);if(_0x56003c!==-0x1)this[_0x28d3('0xa')](_0x56003c,0x1);return _0x56003c!==-0x1;};function bytesToColor(_0x52c9b7,_0x46bbc1,_0x20a264){var _0x2bb810=('00'+(~~_0x52c9b7)[_0x28d3('0xb')](0x10))[_0x28d3('0xc')](-0x2);var _0x3ed28d=('00'+(~~_0x46bbc1)[_0x28d3('0xb')](0x10))[_0x28d3('0xc')](-0x2);var _0x46d176=('00'+(~~_0x20a264)[_0x28d3('0xb')](0x10))[_0x28d3('0xc')](-0x2);return'#'+_0x2bb810+_0x3ed28d+_0x46d176;}function colorToBytes(_0x509afa){if(_0x509afa['length']===0x4)return{'r':parseInt(_0x509afa[0x1]+_0x509afa[0x1],0x10),'g':parseInt(_0x509afa[0x2]+_0x509afa[0x2],0x10),'b':parseInt(_0x509afa[0x3]+_0x509afa[0x3],0x10)};else if(_0x509afa[_0x28d3('0x7')]===0x7)return{'r':parseInt(_0x509afa[0x1]+_0x509afa[0x2],0x10),'g':parseInt(_0x509afa[0x3]+_0x509afa[0x4],0x10),'b':parseInt(_0x509afa[0x5]+_0x509afa[0x6],0x10)};throw new Error(_0x28d3('0xd')+_0x509afa);}function darkenColor(_0x4d2a27){var _0x4c4763=colorToBytes(_0x4d2a27);return bytesToColor(_0x4c4763['r']*0.9,_0x4c4763['g']*0.9,_0x4c4763['b']*0.9);}function cleanupObject(_0xcb09df){for(var _0x40fb03 in _0xcb09df)delete _0xcb09df[_0x40fb03];}var __buf=new DataView(new ArrayBuffer(0x8));function Writer(_0x1dff7d){this['_e']=_0x1dff7d;this[_0x28d3('0xe')]();return this;}Writer[_0x28d3('0x5')]={'writer':!![],'reset':function(_0x50d504){this['_b']=[];this['_o']=0x0;},'setUint8':function(_0xe69a3d){if(_0xe69a3d>=0x0&&_0xe69a3d<0x100)this['_b'][_0x28d3('0xf')](_0xe69a3d);return this;},'setInt8':function(_0x2dd5cb){if(_0x2dd5cb>=-0x80&&_0x2dd5cb<0x80)this['_b'][_0x28d3('0xf')](_0x2dd5cb);return this;},'setUint16':function(_0x20b396){__buf[_0x28d3('0x10')](0x0,_0x20b396,this['_e']);this[_0x28d3('0x11')](0x2);return this;},'setInt16':function(_0x5eb03e){__buf[_0x28d3('0x12')](0x0,_0x5eb03e,this['_e']);this['_move'](0x2);return this;},'setUint32':function(_0x50ea84){__buf[_0x28d3('0x13')](0x0,_0x50ea84,this['_e']);this[_0x28d3('0x11')](0x4);return this;},'setInt32':function(_0x1aece5){__buf['setInt32'](0x0,_0x1aece5,this['_e']);this[_0x28d3('0x11')](0x4);return this;},'setFloat32':function(_0x51c271){__buf[_0x28d3('0x14')](0x0,_0x51c271,this['_e']);this[_0x28d3('0x11')](0x4);return this;},'setFloat64':function(_0x543677){__buf[_0x28d3('0x15')](0x0,_0x543677,this['_e']);this[_0x28d3('0x11')](0x8);return this;},'_move':function(_0x427919){for(var _0x110060=0x0;_0x110060<_0x427919;_0x110060++)this['_b'][_0x28d3('0xf')](__buf[_0x28d3('0x16')](_0x110060));},'setStringUTF8':function(_0x4adba7){var _0x5979d2=unescape(encodeURIComponent(_0x4adba7));for(var _0x59f1b2=0x0,_0xbfe5dc=_0x5979d2[_0x28d3('0x7')];_0x59f1b2<_0xbfe5dc;_0x59f1b2++)this['_b'][_0x28d3('0xf')](_0x5979d2[_0x28d3('0x17')](_0x59f1b2));this['_b'][_0x28d3('0xf')](0x0);return this;},'build':function(){return new Uint8Array(this['_b']);}};function Reader(_0x26e500,_0x36d824,_0x17a3de){this['_e']=_0x17a3de;if(_0x26e500)this[_0x28d3('0x18')](_0x26e500,_0x36d824);}Reader[_0x28d3('0x5')]={'reader':!![],'repurpose':function(_0x40a261,_0x21fc63){this['view']=_0x40a261;this['_o']=_0x21fc63||0x0;},'getUint8':function(){return this[_0x28d3('0x19')][_0x28d3('0x16')](this['_o']++,this['_e']);},'getInt8':function(){return this[_0x28d3('0x19')]['getInt8'](this['_o']++,this['_e']);},'getUint16':function(){return this[_0x28d3('0x19')][_0x28d3('0x1a')]((this['_o']+=0x2)-0x2,this['_e']);},'getInt16':function(){return this[_0x28d3('0x19')][_0x28d3('0x1b')]((this['_o']+=0x2)-0x2,this['_e']);},'getUint32':function(){return this['view'][_0x28d3('0x1c')]((this['_o']+=0x4)-0x4,this['_e']);},'getInt32':function(){return this[_0x28d3('0x19')]['getInt32']((this['_o']+=0x4)-0x4,this['_e']);},'getFloat32':function(){return this['view'][_0x28d3('0x1d')]((this['_o']+=0x4)-0x4,this['_e']);},'getFloat64':function(){return this[_0x28d3('0x19')]['getFloat64']((this['_o']+=0x8)-0x8,this['_e']);},'getStringUTF8':function(){var _0x3b879b='',_0x2e03d1;while((_0x2e03d1=this[_0x28d3('0x19')][_0x28d3('0x16')](this['_o']++))!==0x0)_0x3b879b+=String[_0x28d3('0x1e')](_0x2e03d1);return decodeURIComponent(escape(_0x3b879b));}};var log={'verbosity':0x4,'error':function(_0x1bc1ae){if(log[_0x28d3('0x1f')]<=0x0)return;console['error'](_0x1bc1ae);},'warn':function(_0x45ac71){if(log['verbosity']<=0x1)return;console[_0x28d3('0x20')](_0x45ac71);},'info':function(_0x282787){if(log[_0x28d3('0x1f')]<=0x2)return;console[_0x28d3('0x21')](_0x282787);},'debug':function(_0x28307f){if(log['verbosity']<=0x3)return;console[_0x28d3('0x22')](_0x28307f);}};var wsUrl=null,SKIN_URL='./skins/',USE_HTTPS=_0x28d3('0x23')==wHandle[_0x28d3('0x24')][_0x28d3('0x25')],PI_2=Math['PI']*0x2,SEND_254=new Uint8Array([0xfe,0x6,0x0,0x0,0x0]),SEND_255=new Uint8Array([0xff,0x1,0x0,0x0,0x0]),UINT8_CACHE={1:new Uint8Array([0x1]),17:new Uint8Array([0x11]),21:new Uint8Array([0x15]),18:new Uint8Array([0x12]),19:new Uint8Array([0x13]),22:new Uint8Array([0x16]),23:new Uint8Array([0x17]),24:new Uint8Array([0x18]),254:new Uint8Array([0xfe])};function wsCleanup(){if(!ws)return;log[_0x28d3('0x22')]('ws\x20cleanup\x20trigger');ws[_0x28d3('0x26')]=null;ws['onmessage']=null;ws[_0x28d3('0x27')]=null;ws[_0x28d3('0x28')]=null;ws[_0x28d3('0x29')]();ws=null;}function wsInit(_0x316c6f,_0xe3dd80){if(ws){log[_0x28d3('0x22')](_0x28d3('0x2a'));wsCleanup();}wjQuery(_0x28d3('0x2b'))[_0x28d3('0x2c')]();ws=new WebSocket(_0x28d3('0x2d')+_0x316c6f,window['location'][_0x28d3('0x2e')]+'x');ws[_0x28d3('0x2f')]='arraybuffer';ws[_0x28d3('0x26')]=function(_0x4b9c1f){wsOpen();if(_0xe3dd80==0x3ee)showESCOverlay();};ws[_0x28d3('0x30')]=wsMessage;ws[_0x28d3('0x27')]=wsError;ws['onclose']=wsClose;}function wsOpen(){disconnectDelay=0x3e8;wjQuery('#connecting')[_0x28d3('0x31')]();wsSend(SEND_254);wsSend(SEND_255);log[_0x28d3('0x22')]('ws\x20connected,\x20using\x20https:\x20'+USE_HTTPS);}function wsError(_0x2282ea){log[_0x28d3('0x20')](_0x2282ea);}function wsClose(_0x54543f){log[_0x28d3('0x22')](_0x28d3('0x32')+_0x54543f[_0x28d3('0x33')]+'\x20\x27'+_0x54543f[_0x28d3('0x34')]+'\x27');wsCleanup();gameReset();setTimeout(function(){if(ws&&ws[_0x28d3('0x35')]===0x1)return;wsInit(wsUrl,_0x54543f['code']);},disconnectDelay*=1.5);}function wsSend(_0x572dd7){if(!ws)return;if(ws['readyState']!==0x1)return;if(_0x572dd7[_0x28d3('0x36')])ws[_0x28d3('0x37')](_0x572dd7[_0x28d3('0x36')]());else ws[_0x28d3('0x37')](_0x572dd7);}function wsMessage(_0x529ee0){syncUpdStamp=Date[_0x28d3('0x3')]();var _0xa10c19=new Reader(new DataView(_0x529ee0[_0x28d3('0x38')]),0x0,!![]);var _0x222765=_0xa10c19[_0x28d3('0x16')]();switch(_0x222765){case 0x10:var _0x714fa8,_0x40f941,_0x58e779,_0x24a891,_0x32d031,_0x3dd2ca,_0x1b38bc,_0xd14214,_0x43b7e8,_0x5bf53d,_0x53dfb8,_0x44116a,_0x30556f,_0x1e4818,_0x11e376,_0x29aada;_0x30556f=_0xa10c19[_0x28d3('0x1a')]();for(var _0x247f44=0x0;_0x247f44<_0x30556f;_0x247f44++){_0x714fa8=_0xa10c19[_0x28d3('0x1c')]();_0x40f941=_0xa10c19[_0x28d3('0x1c')]();if(!cells['byId']['hasOwnProperty'](_0x714fa8)||!cells[_0x28d3('0x39')][_0x28d3('0x3a')](_0x40f941))continue;cells['byId'][_0x40f941]['destroy'](_0x714fa8);}while(!![]){_0x58e779=_0xa10c19[_0x28d3('0x1c')]();if(_0x58e779===0x0)break;_0x32d031=_0xa10c19[_0x28d3('0x3b')]();_0x3dd2ca=_0xa10c19['getInt32']();_0x1b38bc=_0xa10c19[_0x28d3('0x1a')]();_0xd14214=_0xa10c19['getUint8']();_0x5bf53d=!!(_0xd14214&0x2);_0x53dfb8=!!(_0xd14214&0x8);_0x44116a=!!(_0xd14214&0x4);_0x1e4818=_0x5bf53d?bytesToColor(_0xa10c19[_0x28d3('0x16')](),_0xa10c19[_0x28d3('0x16')](),_0xa10c19['getUint8']()):null;_0x29aada=_0x44116a?_0xa10c19['getStringUTF8']():null;_0x11e376=_0x53dfb8?_0xa10c19[_0x28d3('0x3c')]():null;if(cells['byId'][_0x28d3('0x3a')](_0x58e779)){_0x43b7e8=cells[_0x28d3('0x39')][_0x58e779];_0x43b7e8[_0x28d3('0x3d')](syncUpdStamp);_0x43b7e8[_0x28d3('0x3e')]=syncUpdStamp;_0x43b7e8['ox']=_0x43b7e8['x'];_0x43b7e8['oy']=_0x43b7e8['y'];_0x43b7e8['os']=_0x43b7e8['s'];_0x43b7e8['nx']=_0x32d031;_0x43b7e8['ny']=_0x3dd2ca;_0x43b7e8['ns']=_0x1b38bc;if(_0x1e4818)_0x43b7e8[_0x28d3('0x3f')](_0x1e4818);if(_0x29aada)_0x43b7e8[_0x28d3('0x40')](_0x29aada);if(_0x11e376)_0x43b7e8['setName'](_0x11e376);}else{_0x43b7e8=new Cell(_0x58e779,_0x32d031,_0x3dd2ca,_0x1b38bc,_0x11e376,_0x1e4818,_0x29aada,_0xd14214);cells[_0x28d3('0x39')][_0x58e779]=_0x43b7e8;cells[_0x28d3('0x41')][_0x28d3('0xf')](_0x43b7e8);}}_0x30556f=_0xa10c19[_0x28d3('0x1a')]();for(_0x247f44=0x0;_0x247f44<_0x30556f;_0x247f44++){_0x40f941=_0xa10c19[_0x28d3('0x1c')]();if(cells['byId'][_0x28d3('0x3a')](_0x40f941)&&!cells['byId'][_0x40f941][_0x28d3('0x42')])cells[_0x28d3('0x39')][_0x40f941][_0x28d3('0x43')](null);}break;case 0x11:targetX=_0xa10c19[_0x28d3('0x1d')]();targetY=_0xa10c19[_0x28d3('0x1d')]();targetZ=_0xa10c19[_0x28d3('0x1d')]();break;case 0x12:for(var _0x247f44 in cells['byId'])cells['byId'][_0x247f44][_0x28d3('0x43')](null);case 0x14:cells[_0x28d3('0x44')]=[];break;case 0x15:log['warn'](_0x28d3('0x45'));break;case 0x20:cells[_0x28d3('0x44')][_0x28d3('0xf')](_0xa10c19[_0x28d3('0x1c')]());break;case 0x30:leaderboard[_0x28d3('0x46')]=[];leaderboard[_0x28d3('0x47')]='text';var _0x30556f=_0xa10c19[_0x28d3('0x1c')]();for(_0x247f44=0x0;_0x247f44<_0x30556f;++_0x247f44)leaderboard[_0x28d3('0x46')][_0x28d3('0xf')](_0xa10c19[_0x28d3('0x3c')]());drawLeaderboard();break;case 0x31:leaderboard[_0x28d3('0x46')]=[];leaderboard[_0x28d3('0x47')]=_0x28d3('0x48');var _0x30556f=_0xa10c19[_0x28d3('0x1c')]();for(_0x247f44=0x0;_0x247f44<_0x30556f;++_0x247f44)leaderboard[_0x28d3('0x46')][_0x28d3('0xf')]({'me':!!_0xa10c19[_0x28d3('0x1c')](),'name':_0xa10c19[_0x28d3('0x3c')]()||'بدون\x20اسم'});drawLeaderboard();break;case 0x32:leaderboard[_0x28d3('0x46')]=[];leaderboard[_0x28d3('0x47')]=_0x28d3('0x49');var _0x30556f=_0xa10c19[_0x28d3('0x1c')]();for(_0x247f44=0x0;_0x247f44<_0x30556f;++_0x247f44)leaderboard[_0x28d3('0x46')][_0x28d3('0xf')](_0xa10c19[_0x28d3('0x1d')]());drawLeaderboard();break;case 0x40:border[_0x28d3('0x4a')]=_0xa10c19[_0x28d3('0x4b')]();border[_0x28d3('0x4c')]=_0xa10c19[_0x28d3('0x4b')]();border[_0x28d3('0x4d')]=_0xa10c19[_0x28d3('0x4b')]();border[_0x28d3('0x4e')]=_0xa10c19['getFloat64']();border[_0x28d3('0x4f')]=border[_0x28d3('0x4d')]-border['left'];border[_0x28d3('0x50')]=border[_0x28d3('0x4e')]-border[_0x28d3('0x4c')];border['centerX']=(border[_0x28d3('0x4a')]+border['right'])/0x2;border[_0x28d3('0x51')]=(border['top']+border[_0x28d3('0x4e')])/0x2;if(_0x529ee0['data'][_0x28d3('0x52')]===0x21)break;if(!mapCenterSet){mapCenterSet=!![];cameraX=targetX=border[_0x28d3('0x53')];cameraY=targetY=border[_0x28d3('0x51')];cameraZ=targetZ=0x1;}_0xa10c19['getUint32']();if(!/MultiOgar/[_0x28d3('0x54')](_0xa10c19[_0x28d3('0x3c')]())||stats[_0x28d3('0x55')])break;stats[_0x28d3('0x55')]=setInterval(function(){wsSend(UINT8_CACHE[0xfe]);stats[_0x28d3('0x56')]=Date[_0x28d3('0x3')]();},0x7d0);break;case 0x63:var _0xd14214=_0xa10c19[_0x28d3('0x16')]();var _0x1e4818=bytesToColor(_0xa10c19[_0x28d3('0x16')](),_0xa10c19[_0x28d3('0x16')](),_0xa10c19[_0x28d3('0x16')]());var _0x11e376=_0xa10c19[_0x28d3('0x3c')]()[_0x28d3('0x57')]();var _0x48cb2c=/\{([\w\W]+)\}/['exec'](_0x11e376);if(_0x48cb2c)_0x11e376=_0x11e376[_0x28d3('0x58')](_0x48cb2c[0x0],'')[_0x28d3('0x57')]();var _0x312d6f=_0xa10c19[_0x28d3('0x3c')]();var _0x97129=!!(_0xd14214&0x80),_0x203cf7=!!(_0xd14214&0x40),_0x4c4e49=!!(_0xd14214&0x20);if(_0x97129&&_0x11e376!==_0x28d3('0x59'))_0x11e376=_0x28d3('0x5a')+_0x11e376;if(_0x203cf7)_0x11e376='[ADMIN]\x20'+_0x11e376;if(_0x4c4e49)_0x11e376=_0x28d3('0x5b')+_0x11e376;var _0x2699a2=Math[_0x28d3('0x5c')](0xbb8,0x3e8+_0x312d6f[_0x28d3('0x7')]*0x96);chat['waitUntil']=syncUpdStamp-chat[_0x28d3('0x5d')]>0x3e8?syncUpdStamp+_0x2699a2:chat[_0x28d3('0x5d')]+_0x2699a2;chat[_0x28d3('0x5e')]['push']({'server':_0x97129,'admin':_0x203cf7,'mod':_0x4c4e49,'color':_0x1e4818,'name':_0x11e376,'message':_0x312d6f,'time':syncUpdStamp});drawChat();break;case 0xfe:stats['info']=JSON[_0x28d3('0x5f')](_0xa10c19[_0x28d3('0x3c')]());stats[_0x28d3('0x60')]=syncUpdStamp-stats['pingLoopStamp'];drawStats();break;default:wsCleanup();break;}}function sendMouseMove(_0x3b9444,_0x1dfdd7){var _0x29b72c=new Writer(!![]);_0x29b72c['setUint8'](0x10);_0x29b72c[_0x28d3('0x13')](_0x3b9444);_0x29b72c[_0x28d3('0x13')](_0x1dfdd7);_0x29b72c['_b'][_0x28d3('0xf')](0x0,0x0,0x0,0x0);wsSend(_0x29b72c);}function sendPlay(_0x183b8f){log[_0x28d3('0x22')](_0x28d3('0x61'));var _0x16da76=!![];var _0x2fb930=new Writer(!![]);_0x2fb930[_0x28d3('0x62')](0x0);_0x2fb930[_0x28d3('0x63')](_0x183b8f+_0x28d3('0x64'));wsSend(_0x2fb930);}function sendChat(_0x6167e6){var _0x1057b5=new Writer();_0x1057b5[_0x28d3('0x62')](0x63);_0x1057b5['setUint8'](0x0);_0x1057b5['setStringUTF8'](_0x6167e6);wsSend(_0x1057b5);}function gameReset(){cleanupObject(cells);cleanupObject(border);cleanupObject(leaderboard);cleanupObject(chat);cleanupObject(stats);chat[_0x28d3('0x5e')]=[];leaderboard[_0x28d3('0x46')]=[];cells[_0x28d3('0x44')]=[];cells[_0x28d3('0x39')]={};cells['list']=[];cameraX=cameraY=targetX=targetY=0x0;cameraZ=targetZ=0x1;mapCenterSet=![];}var cells=Object[_0x28d3('0x65')]({'mine':[],'byId':{},'list':[]});var border=Object['create']({'left':-0x7d0,'right':0x7d0,'top':-0x7d0,'bottom':0x7d0,'width':0xfa0,'height':0xfa0,'centerX':-0x1,'centerY':-0x1});var leaderboard=Object[_0x28d3('0x65')]({'type':NaN,'items':null,'canvas':document[_0x28d3('0x66')](_0x28d3('0x67')),'teams':['#F33','#3F3',_0x28d3('0x68')]});var chat=Object['create']({'messages':[],'waitUntil':0x0,'canvas':document['createElement'](_0x28d3('0x67')),'visible':![]});var stats=Object[_0x28d3('0x65')]({'framesPerSecond':0x0,'latency':NaN,'supports':null,'info':null,'pingLoopId':NaN,'pingLoopStamp':null,'canvas':document[_0x28d3('0x66')](_0x28d3('0x67')),'visible':![],'score':NaN,'maxScore':0x0});var ws=null;var wsUrl=null;var disconnectDelay=0x3e8;var syncUpdStamp=Date[_0x28d3('0x3')]();var syncAppStamp=Date[_0x28d3('0x3')]();var mainCanvas=null;var mainCtx=null;var knownSkins={};var loadedSkins={};var escOverlayShown=![];var isTyping=![];var chatBox=null;var mapCenterSet=![];var cameraX=0x0;var cameraY=0x0;var cameraZ=0x1;var cameraZInvd=0x1;var targetX=0x0;var targetY=0x0;var targetZ=0x1;var viewMult=0x1;var mouseX=NaN;var mouseY=NaN;var mouseZ=0x1;var settings={'mobile':_0x28d3('0x69')in document,'showMass':![],'showNames':!![],'showLeaderboard':!![],'showChat':!![],'showGrid':!![],'showTextOutline':!![],'showColor':!![],'showSkins':!![],'showMinimap':!![],'darkTheme':![],'allowGETipSet':![]};var pressed={'space':![],'w':![],'e':![],'r':![],'t':![],'p':![],'q':![],'esc':![]};if(null!==wHandle[_0x28d3('0x6a')]){wjQuery(window)[_0x28d3('0x6b')](function(){wjQuery('.save')[_0x28d3('0x6c')](function(){var _0xec2838=wjQuery(this)[_0x28d3('0x38')](_0x28d3('0x6d'));var _0x3d918d=wHandle['localStorage'][_0x28d3('0x6e')]('checkbox-'+_0xec2838);if(_0x3d918d&&_0x3d918d==_0x28d3('0x6f')&&(0x0!=_0xec2838||0xa!=_0xec2838)){wjQuery(this)[_0x28d3('0x70')](_0x28d3('0x71'),_0x28d3('0x6f'));wjQuery(this)['trigger'](_0x28d3('0x72'));}else if((_0xec2838==0x0||_0xec2838==0xa)&&_0x3d918d!=null)wjQuery(this)[_0x28d3('0x73')](_0x3d918d);});wjQuery(_0x28d3('0x74'))['change'](function(){var _0x3ae9f2=wjQuery(this)['data'](_0x28d3('0x6d'));var _0x3f8fb5=_0x3ae9f2==0x0||_0x3ae9f2==0xa?wjQuery(this)[_0x28d3('0x73')]():wjQuery(this)[_0x28d3('0x70')](_0x28d3('0x71'));wHandle[_0x28d3('0x6a')]['setItem']('checkbox-'+_0x3ae9f2,_0x3f8fb5);});});}wjQuery['ajax']({'type':_0x28d3('0x75'),'dataType':_0x28d3('0x76'),'url':_0x28d3('0x77'),'data':{'action':_0x28d3('0x78')},'success':function(_0x10d680){var _0x3e3bbe=Date[_0x28d3('0x3')]();response=JSON[_0x28d3('0x5f')](_0x10d680['names']);for(var _0x530b87=0x0;_0x530b87<response[_0x28d3('0x7')];_0x530b87++)knownSkins[response[_0x530b87]]=_0x3e3bbe;for(var _0x530b87 in knownSkins)if(knownSkins[_0x530b87]!==_0x3e3bbe)delete knownSkins[_0x530b87];}});function hideESCOverlay(){escOverlayShown=![];wjQuery('#overlays')[_0x28d3('0x31')]();}function showESCOverlay(){escOverlayShown=!![];wjQuery('#overlays')[_0x28d3('0x79')](0x12c);}function toCamera(_0x130901){_0x130901[_0x28d3('0x7a')](mainCanvas[_0x28d3('0x4f')]/0x2,mainCanvas[_0x28d3('0x50')]/0x2);scaleForth(_0x130901);_0x130901['translate'](-cameraX,-cameraY);}function scaleForth(_0x13c620){_0x13c620[_0x28d3('0x7b')](cameraZ,cameraZ);}function scaleBack(_0x494855){_0x494855[_0x28d3('0x7b')](cameraZInvd,cameraZInvd);}function fromCamera(_0x3520e8){_0x3520e8[_0x28d3('0x7a')](cameraX,cameraY);scaleBack(_0x3520e8);_0x3520e8['translate'](-mainCanvas[_0x28d3('0x4f')]/0x2,-mainCanvas[_0x28d3('0x50')]/0x2);}function drawChat(){if(chat[_0x28d3('0x5e')]['length']===0x0&&settings[_0x28d3('0x7c')])return chat[_0x28d3('0x7d')]=![];if(!settings[_0x28d3('0x7c')])return chat[_0x28d3('0x7d')]=![];chat['visible']=!![];var _0x27fc39=chat[_0x28d3('0x67')];var _0xdf249b=_0x27fc39[_0x28d3('0x7e')]('2d');var _0x14393a=chat[_0x28d3('0x5e')][_0x28d3('0xc')](-0xf);var _0x11bdee=[];for(var _0x420b02=0x0,_0xa8ab55=_0x14393a[_0x28d3('0x7')];_0x420b02<_0xa8ab55;_0x420b02++)_0x11bdee[_0x28d3('0xf')]([{'text':_0x14393a[_0x420b02][_0x28d3('0x7f')],'color':_0x14393a[_0x420b02][_0x28d3('0x80')]},{'text':'\x20'+_0x14393a[_0x420b02][_0x28d3('0x81')],'color':settings[_0x28d3('0x82')]?_0x28d3('0x83'):'#666'}]);var _0xa1f5eb=0x0;var _0x25265c=0x14*_0xa8ab55+0x2+0x5;for(var _0x420b02=0x0;_0x420b02<_0xa8ab55;_0x420b02++){var _0x41e88a=0x0;var _0x185765=_0x11bdee[_0x420b02];for(var _0x768420=0x0;_0x768420<_0x185765[_0x28d3('0x7')];_0x768420++){_0xdf249b[_0x28d3('0x84')]=_0x28d3('0x85');_0x185765[_0x768420][_0x28d3('0x4f')]=_0xdf249b[_0x28d3('0x86')](_0x185765[_0x768420]['text'])[_0x28d3('0x4f')]+0x5;_0x41e88a+=_0x185765[_0x768420][_0x28d3('0x4f')]+0x5;}_0xa1f5eb=Math[_0x28d3('0x5c')](_0x41e88a,_0xa1f5eb);}_0x27fc39['width']=_0xa1f5eb;_0x27fc39[_0x28d3('0x50')]=_0x25265c;for(var _0x420b02=0x0;_0x420b02<_0xa8ab55;_0x420b02++){_0xa1f5eb=0x0;var _0x185765=_0x11bdee[_0x420b02];for(var _0x768420=0x0;_0x768420<_0x185765['length'];_0x768420++){_0xdf249b[_0x28d3('0x84')]=_0x28d3('0x85');_0xdf249b[_0x28d3('0x87')]=_0x185765[_0x768420][_0x28d3('0x80')];_0xdf249b['fillText'](_0x185765[_0x768420]['text'],_0xa1f5eb,0x14*(0x1+_0x420b02)-0x5);_0xa1f5eb+=_0x185765[_0x768420][_0x28d3('0x4f')];}}}function drawStats(){if(!stats[_0x28d3('0x21')])return stats[_0x28d3('0x7d')]=![];stats['visible']=!![];var _0x31cc2a=stats[_0x28d3('0x67')];var _0x4cf0ca=_0x31cc2a[_0x28d3('0x7e')]('2d');_0x4cf0ca[_0x28d3('0x84')]='14px\x20Tahoma';var _0x5eab25=[_0x28d3('0x88')+prettyPrintTime(stats[_0x28d3('0x21')][_0x28d3('0x89')])+'\x20'];var _0x4e4ec2=0x0;for(var _0x32ea5d=0x0;_0x32ea5d<_0x5eab25[_0x28d3('0x7')];_0x32ea5d++)_0x4e4ec2=Math[_0x28d3('0x5c')](_0x4e4ec2,0x2+_0x4cf0ca['measureText'](_0x5eab25[_0x32ea5d])['width']+0x1);_0x31cc2a[_0x28d3('0x4f')]=_0x4e4ec2;_0x31cc2a[_0x28d3('0x50')]=_0x5eab25[_0x28d3('0x7')]*(0xe+0x2);_0x4cf0ca['font']=_0x28d3('0x8a');_0x4cf0ca[_0x28d3('0x87')]=settings[_0x28d3('0x82')]?_0x28d3('0x8b'):_0x28d3('0x8c');_0x4cf0ca[_0x28d3('0x8d')]=_0x28d3('0x4c');for(var _0x32ea5d=0x0;_0x32ea5d<_0x5eab25[_0x28d3('0x7')];_0x32ea5d++)_0x4cf0ca[_0x28d3('0x8e')](_0x5eab25[_0x32ea5d],0x2,-0x2+_0x32ea5d*(0xe+0x2));}function prettyPrintTime(_0xa3bb00){_0xa3bb00=~~_0xa3bb00;var _0xe38301=0x3840;var _0x243e3a=_0xe38301-_0xa3bb00;var _0x3d9f3d=~~(_0x243e3a/0x3c);if(_0x3d9f3d<0x1)return _0x28d3('0x8f');var _0x26b7e7=~~(_0x3d9f3d/0x3c);if(_0x26b7e7<0x1)return _0x3d9f3d+_0x28d3('0x90');var _0x535d08=~~(_0x26b7e7/0x18);if(_0x535d08<0x1)return _0x26b7e7+'h';return _0x535d08+'d';}function drawLeaderboard(){if(leaderboard[_0x28d3('0x47')]===NaN)return leaderboard[_0x28d3('0x7d')]=![];if(leaderboard[_0x28d3('0x46')][_0x28d3('0x7')]===0x0)return leaderboard['visible']=![];leaderboard[_0x28d3('0x7d')]=!![];var _0x3b1361=leaderboard[_0x28d3('0x67')];var _0x11ec91=_0x3b1361['getContext']('2d');var _0x120017=leaderboard[_0x28d3('0x46')]['length'];_0x3b1361[_0x28d3('0x4f')]=0xc8;_0x3b1361[_0x28d3('0x50')]=leaderboard[_0x28d3('0x47')]!==_0x28d3('0x49')?0x3c+0x18*_0x120017:0xf0;_0x11ec91['globalAlpha']=0.4;_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x91');_0x11ec91[_0x28d3('0x92')](0x0,0x0,0xc8,_0x3b1361[_0x28d3('0x50')]);_0x11ec91[_0x28d3('0x93')]=0x1;_0x11ec91['fillStyle']=_0x28d3('0x83');_0x11ec91[_0x28d3('0x84')]='30px\x20Ubuntu';if(stats[_0x28d3('0x21')]){var _0x535601=stats[_0x28d3('0x21')][_0x28d3('0x7f')]||_0x28d3('0x94');}else{var _0x535601='المتصدرين';}_0x11ec91[_0x28d3('0x8e')](_0x535601,0x64-_0x11ec91['measureText'](_0x535601)[_0x28d3('0x4f')]/0x2,0x28);if(leaderboard[_0x28d3('0x47')]===_0x28d3('0x49')){var _0x11b1b2=0x0;for(var _0x26d460=0x0;_0x26d460<_0x120017;_0x26d460++){_0x11ec91[_0x28d3('0x87')]=leaderboard[_0x28d3('0x95')][_0x26d460];_0x11ec91[_0x28d3('0x96')]();_0x11ec91[_0x28d3('0x97')](0x64,0x8c);_0x11ec91[_0x28d3('0x98')](0x64,0x8c,0x50,_0x11b1b2,_0x11b1b2+=leaderboard[_0x28d3('0x46')][_0x26d460]*PI_2,![]);_0x11ec91['closePath']();_0x11ec91[_0x28d3('0x99')]();}}else{var _0x31562d,_0x461bf2=![],_0x508a19,_0x40f1f1;_0x11ec91['font']='20px\x20Tahoma';for(var _0x26d460=0x0;_0x26d460<_0x120017;_0x26d460++){if(leaderboard['type']==='text')_0x31562d=leaderboard[_0x28d3('0x46')][_0x26d460];else _0x31562d=leaderboard[_0x28d3('0x46')][_0x26d460][_0x28d3('0x7f')],_0x461bf2=leaderboard[_0x28d3('0x46')][_0x26d460]['me'];var _0x389c0d=/\{([\w\W]+)\}/[_0x28d3('0x9a')](_0x31562d);if(_0x389c0d)_0x31562d=_0x31562d['replace'](_0x389c0d[0x0],'')['trim']();_0x11ec91['fillStyle']=_0x461bf2?'#FAA':_0x28d3('0x83');if(0x0==_0x26d460){_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x9b');}if(0x1==_0x26d460){_0x11ec91[_0x28d3('0x87')]='#7D1935';}if(0x2==_0x26d460){_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x9c');}if(0x3==_0x26d460){_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x9d');}if(0x4==_0x26d460){_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x9e');}if(0x5==_0x26d460){_0x11ec91[_0x28d3('0x87')]=_0x28d3('0x9f');}if(leaderboard[_0x28d3('0x47')]===_0x28d3('0x48'))_0x31562d=_0x26d460+0x1+'.\x20'+(_0x31562d||'بدون\x20اسم');var _0x40f1f1=(_0x508a19=_0x11ec91[_0x28d3('0x86')](_0x31562d)[_0x28d3('0x4f')])>0xc8?0x2:0x64-_0x508a19*0.5;_0x11ec91[_0x28d3('0x8e')](_0x31562d,_0x40f1f1,0x46+0x18*_0x26d460);}}}function drawGrid(){mainCtx[_0x28d3('0xa0')]();mainCtx[_0x28d3('0xa1')]=0x1;mainCtx['strokeStyle']=settings[_0x28d3('0x82')]?_0x28d3('0x8b'):'#000';mainCtx['globalAlpha']=0.2;var _0x690889=0x32,_0x5a0d77;cW=mainCanvas[_0x28d3('0x4f')]/cameraZ,cH=mainCanvas['height']/cameraZ,startLeft=(-cameraX+cW/0x2)%_0x690889,startTop=(-cameraY+cH/0x2)%_0x690889;scaleForth(mainCtx);mainCtx[_0x28d3('0x96')]();for(_0x5a0d77=startLeft;_0x5a0d77<cW;_0x5a0d77+=_0x690889){mainCtx['moveTo'](_0x5a0d77,0x0);mainCtx['lineTo'](_0x5a0d77,cH);}for(_0x5a0d77=startTop;_0x5a0d77<cH;_0x5a0d77+=_0x690889){mainCtx[_0x28d3('0x97')](0x0,_0x5a0d77);mainCtx['lineTo'](cW,_0x5a0d77);}mainCtx[_0x28d3('0xa2')]();mainCtx[_0x28d3('0xa3')]();mainCtx['restore']();}function drawBorders(){mainCtx[_0x28d3('0xa4')]='#ff0000';mainCtx[_0x28d3('0xa1')]=0x14;mainCtx[_0x28d3('0xa5')]=_0x28d3('0xa6');mainCtx['lineJoin']=_0x28d3('0xa6');mainCtx[_0x28d3('0x96')]();mainCtx[_0x28d3('0x97')](border[_0x28d3('0x4a')],border['top']);mainCtx[_0x28d3('0xa7')](border[_0x28d3('0x4d')],border[_0x28d3('0x4c')]);mainCtx['lineTo'](border['right'],border[_0x28d3('0x4e')]);mainCtx['lineTo'](border[_0x28d3('0x4a')],border[_0x28d3('0x4e')]);mainCtx[_0x28d3('0xa2')]();mainCtx[_0x28d3('0xa3')]();};function drawMinimap(){if(border['centerX']!==0x0||border[_0x28d3('0x51')]!==0x0||!settings['showMinimap'])return;mainCtx[_0x28d3('0xa0')]();var _0x36d3fd=0xc8;var _0x21e9f5=_0x36d3fd*(border['width']/border[_0x28d3('0x50')]);var _0x3c8b96=_0x36d3fd*(border['height']/border[_0x28d3('0x4f')]);var _0x5574f5=mainCanvas[_0x28d3('0x4f')]/viewMult-_0x21e9f5;var _0x11337c=mainCanvas[_0x28d3('0x50')]/viewMult-_0x3c8b96;mainCtx[_0x28d3('0x87')]='#000';mainCtx[_0x28d3('0x93')]=0.4;mainCtx[_0x28d3('0x92')](_0x5574f5,_0x11337c,_0x21e9f5,_0x3c8b96);mainCtx[_0x28d3('0x93')]=0x1;var _0x168c70=0x5;var _0x2fcdf5=['ABCDE',_0x28d3('0xa8')];var _0x3a07f6=_0x21e9f5/_0x168c70;var _0x5bf18e=_0x3c8b96/_0x168c70;var _0x51f99a=Math[_0x28d3('0x90')](_0x3a07f6,_0x5bf18e)/0x3;mainCtx['fillStyle']=_0x28d3('0xa9');mainCtx[_0x28d3('0x8d')]=_0x28d3('0xaa');mainCtx[_0x28d3('0xab')]='center';mainCtx[_0x28d3('0x84')]=_0x51f99a+_0x28d3('0xac');for(var _0x37d5a5=0x0;_0x37d5a5<_0x168c70;_0x37d5a5++){var _0x3718dd=_0x3a07f6/0x2+_0x37d5a5*_0x3a07f6;for(var _0x5ca920=0x0;_0x5ca920<_0x168c70;_0x5ca920++){var _0x4f7eae=_0x5bf18e/0x2+_0x5ca920*_0x5bf18e;mainCtx['fillText'](''+_0x2fcdf5[0x0][_0x37d5a5]+_0x2fcdf5[0x1][_0x5ca920],_0x5574f5+_0x3718dd,_0x11337c+_0x4f7eae);}}var _0x42ed7b=_0x21e9f5/border['width'];var _0x13535c=_0x3c8b96/border[_0x28d3('0x50')];var _0x3bb557=border['width']/0x2;var _0x4302a1=border[_0x28d3('0x50')]/0x2;var _0x433595=_0x5574f5+(cameraX+_0x3bb557)*_0x42ed7b;var _0x4d8804=_0x11337c+(cameraY+_0x4302a1)*_0x13535c;mainCtx[_0x28d3('0x96')]();if(cells[_0x28d3('0x44')][_0x28d3('0x7')]){for(var _0x37d5a5=0x0;_0x37d5a5<cells['mine'][_0x28d3('0x7')];_0x37d5a5++){var _0x4c4c39=cells[_0x28d3('0x39')][cells[_0x28d3('0x44')][_0x37d5a5]];if(_0x4c4c39){mainCtx[_0x28d3('0x87')]=_0x4c4c39[_0x28d3('0x80')];var _0x3718dd=_0x5574f5+(_0x4c4c39['x']+_0x3bb557)*_0x42ed7b;var _0x4f7eae=_0x11337c+(_0x4c4c39['y']+_0x4302a1)*_0x13535c;var _0x548473=_0x4c4c39['s']*_0x42ed7b+0x1;mainCtx['moveTo'](_0x3718dd+_0x548473,_0x4f7eae);mainCtx[_0x28d3('0x98')](_0x3718dd,_0x4f7eae,_0x548473,0x0,PI_2);}}}else{mainCtx[_0x28d3('0x87')]=_0x28d3('0xad');mainCtx[_0x28d3('0x98')](_0x433595,_0x4d8804,0x5,0x0,PI_2);}mainCtx[_0x28d3('0x99')]();mainCtx[_0x28d3('0xae')]();}function drawGame(){stats[_0x28d3('0xaf')]+=(0x3e8/Math[_0x28d3('0x5c')](Date[_0x28d3('0x3')]()-syncAppStamp,0x1)-stats[_0x28d3('0xaf')])/0xa;syncAppStamp=Date['now']();var _0x4f8425=cells[_0x28d3('0x41')][_0x28d3('0xc')](0x0)['sort'](cellSort);for(var _0x269136=0x0,_0x100e3a=_0x4f8425[_0x28d3('0x7')];_0x269136<_0x100e3a;_0x269136++)_0x4f8425[_0x269136][_0x28d3('0x3d')](syncAppStamp);cameraUpdate();mainCtx['save']();mainCtx[_0x28d3('0x87')]=settings[_0x28d3('0x82')]?_0x28d3('0xb0'):_0x28d3('0xb1');mainCtx[_0x28d3('0x92')](0x0,0x0,mainCanvas[_0x28d3('0x4f')],mainCanvas[_0x28d3('0x50')]);if(settings[_0x28d3('0xb2')])drawGrid();toCamera(mainCtx);drawBorders();for(var _0x269136=0x0,_0x100e3a=_0x4f8425[_0x28d3('0x7')];_0x269136<_0x100e3a;_0x269136++)_0x4f8425[_0x269136][_0x28d3('0xb3')](mainCtx);fromCamera(mainCtx);mainCtx[_0x28d3('0x7b')](viewMult,viewMult);var _0xa6ec42=0x2;mainCtx[_0x28d3('0x87')]=settings[_0x28d3('0x82')]?_0x28d3('0x83'):_0x28d3('0x91');mainCtx[_0x28d3('0x8d')]=_0x28d3('0x4c');if(!isNaN(stats[_0x28d3('0xb4')])){mainCtx['font']=_0x28d3('0xb5');mainCtx[_0x28d3('0x8e')]('Score:\x20'+stats[_0x28d3('0xb4')],0x2,_0xa6ec42);_0xa6ec42+=0x1e;mainCtx['font']=_0x28d3('0xb6');mainCtx[_0x28d3('0x8e')](_0x28d3('0xb7')+stats[_0x28d3('0xb8')],0x2,_0xa6ec42);_0xa6ec42+=0x1e;}mainCtx[_0x28d3('0x84')]=_0x28d3('0xb9');var _0x457130='';if(!isNaN(stats['latency']))_0x457130+='Ping:\x20'+stats['latency']+_0x28d3('0xba');_0x457130+='FPS:\x20'+~~stats[_0x28d3('0xaf')];mainCtx[_0x28d3('0x8e')](_0x457130,0x2,_0xa6ec42);_0xa6ec42+=0xf;if(stats['visible'])mainCtx[_0x28d3('0xbb')](stats[_0x28d3('0x67')],0x2,_0xa6ec42);if(leaderboard[_0x28d3('0x7d')])mainCtx[_0x28d3('0xbb')](leaderboard[_0x28d3('0x67')],mainCanvas['width']/viewMult-0xa-leaderboard[_0x28d3('0x67')][_0x28d3('0x4f')],0xa);if(chat[_0x28d3('0x7d')]||isTyping){mainCtx[_0x28d3('0x93')]=isTyping?0x1:Math[_0x28d3('0x5c')](0x3e8-syncAppStamp+chat[_0x28d3('0x5d')],0x0)/0x3e8;mainCtx[_0x28d3('0xbb')](chat[_0x28d3('0x67')],0xa/viewMult,(mainCanvas['height']-0x37)/viewMult-chat['canvas'][_0x28d3('0x50')]);mainCtx[_0x28d3('0x93')]=0x1;}drawMinimap();mainCtx['restore']();cacheCleanup();wHandle['requestAnimationFrame'](drawGame);}function cellSort(_0x40766,_0x1f4bee){return _0x40766['s']===_0x1f4bee['s']?_0x40766['id']-_0x1f4bee['id']:_0x40766['s']-_0x1f4bee['s'];}function cameraUpdate(){var _0x421b7e=[];for(var _0x4cbb87=0x0;_0x4cbb87<cells[_0x28d3('0x44')][_0x28d3('0x7')];_0x4cbb87++)if(cells[_0x28d3('0x39')]['hasOwnProperty'](cells[_0x28d3('0x44')][_0x4cbb87]))_0x421b7e[_0x28d3('0xf')](cells[_0x28d3('0x39')][cells['mine'][_0x4cbb87]]);if(_0x421b7e[_0x28d3('0x7')]>0x0){var _0x49c889=0x0,_0x5b6a2f=0x0,_0x383f2d=0x0,_0x719c=0x0;for(var _0x4cbb87=0x0,_0x409b87=_0x421b7e[_0x28d3('0x7')];_0x4cbb87<_0x409b87;_0x4cbb87++){var _0x2a322f=_0x421b7e[_0x4cbb87];_0x719c+=~~(_0x2a322f['ns']*_0x2a322f['ns']/0x64);_0x49c889+=_0x2a322f['x'];_0x5b6a2f+=_0x2a322f['y'];_0x383f2d+=_0x2a322f['s'];}targetX=_0x49c889/_0x409b87;targetY=_0x5b6a2f/_0x409b87;targetZ=Math[_0x28d3('0xbc')](Math[_0x28d3('0x90')](0x40/_0x383f2d,0x1),0.4);cameraX+=(targetX-cameraX)/0x2;cameraY+=(targetY-cameraY)/0x2;stats[_0x28d3('0xb4')]=_0x719c;stats[_0x28d3('0xb8')]=Math[_0x28d3('0x5c')](stats[_0x28d3('0xb8')],_0x719c);}else{stats[_0x28d3('0xb4')]=NaN;stats[_0x28d3('0xb8')]=0x0;cameraX+=(targetX-cameraX)/0x14;cameraY+=(targetY-cameraY)/0x14;}cameraZ+=(targetZ*viewMult*mouseZ-cameraZ)/0x9;cameraZInvd=0x1/cameraZ;}function Cell(_0x50d768,_0x8c93b0,_0x2d03df,_0x224839,_0xc4531b,_0x366d81,_0x29960b,_0x33649b){this['id']=_0x50d768;this['x']=this['nx']=this['ox']=_0x8c93b0;this['y']=this['ny']=this['oy']=_0x2d03df;this['s']=this['ns']=this['os']=_0x224839;this[_0x28d3('0x3f')](_0x366d81);this[_0x28d3('0xbd')](_0xc4531b);this[_0x28d3('0x40')](_0x29960b);this[_0x28d3('0xbe')]=_0x33649b&0x1||_0x33649b&0x10;this[_0x28d3('0xbf')]=!!(_0x33649b&0x20);this[_0x28d3('0xc0')]=syncUpdStamp;}Cell['prototype']={'destroyed':![],'id':0x0,'diedBy':0x0,'ox':0x0,'x':0x0,'nx':0x0,'oy':0x0,'y':0x0,'ny':0x0,'os':0x0,'s':0x0,'ns':0x0,'nameSize':0x0,'drawNameSize':0x0,'color':'#FFF','sColor':_0x28d3('0xc1'),'skin':null,'jagged':![],'born':null,'updated':null,'dead':null,'destroy':function(_0x1d0147){delete cells[_0x28d3('0x39')][this['id']];if(cells['mine'][_0x28d3('0x8')](this['id'])&&cells['mine'][_0x28d3('0x7')]===0x0)showESCOverlay();this[_0x28d3('0x42')]=!![];this[_0x28d3('0xc2')]=syncUpdStamp;if(_0x1d0147&&!this[_0x28d3('0xc3')])this[_0x28d3('0xc3')]=_0x1d0147;},'update':function(_0x49d0ed){var _0x3427ba=(_0x49d0ed-this['updated'])/0x78;_0x3427ba=Math[_0x28d3('0x5c')](Math[_0x28d3('0x90')](_0x3427ba,0x1),0x0);if(this[_0x28d3('0x42')]&&Date[_0x28d3('0x3')]()>this['dead']+0xc8)cells['list'][_0x28d3('0x8')](this);else if(this[_0x28d3('0xc3')]&&cells['byId'][_0x28d3('0x3a')](this['diedBy'])){this['nx']=cells['byId'][this[_0x28d3('0xc3')]]['x'];this['ny']=cells['byId'][this[_0x28d3('0xc3')]]['y'];}this['x']=this['ox']+(this['nx']-this['ox'])*_0x3427ba;this['y']=this['oy']+(this['ny']-this['oy'])*_0x3427ba;this['s']=this['os']+(this['ns']-this['os'])*_0x3427ba;this[_0x28d3('0xc4')]=~~(~~Math[_0x28d3('0x5c')](~~(0.3*this['ns']),0x18)/0x3)*0x3;this[_0x28d3('0xc5')]=~~(~~Math['max'](~~(0.3*this['s']),0x18)/0x3)*0x3;},'setName':function(_0x4276b9){_0x4276b9=_0x4276b9;var _0x5b4dfe=/\{([\w\W]+)\}/[_0x28d3('0x9a')](_0x4276b9);if(this[_0x28d3('0xc6')]===null&&_0x5b4dfe!==null){this['name']=_0x4276b9[_0x28d3('0x58')](_0x5b4dfe[0x0],'')[_0x28d3('0x57')]();this[_0x28d3('0x40')](_0x5b4dfe[0x1]);}else this[_0x28d3('0x7f')]=_0x4276b9;},'setSkin':function(_0x4847f2){this[_0x28d3('0xc6')]=(_0x4847f2&&_0x4847f2[0x0]==='%'?_0x4847f2[_0x28d3('0xc')](0x1):_0x4847f2)||this[_0x28d3('0xc6')];if(this[_0x28d3('0xc6')]===null||!knownSkins[_0x28d3('0x3a')](this[_0x28d3('0xc6')])||loadedSkins[this[_0x28d3('0xc6')]])return;loadedSkins[this[_0x28d3('0xc6')]]=new Image();loadedSkins[this[_0x28d3('0xc6')]]['src']=''+SKIN_URL+this[_0x28d3('0xc6')]+_0x28d3('0xc7');},'setColor':function(_0x1907d6){if(!_0x1907d6){return;}this['color']=_0x1907d6;this[_0x28d3('0xc8')]=darkenColor(_0x1907d6);},'draw':function(_0x40d7dc){_0x40d7dc[_0x28d3('0xa0')]();this['drawShape'](_0x40d7dc);this[_0x28d3('0xc9')](_0x40d7dc);_0x40d7dc[_0x28d3('0xae')]();},'drawShape':function(_0x48f30c){_0x48f30c[_0x28d3('0x87')]=settings[_0x28d3('0xca')]?this['color']:Cell['prototype'][_0x28d3('0x80')];_0x48f30c[_0x28d3('0xa4')]=settings[_0x28d3('0xca')]?this[_0x28d3('0xc8')]:Cell[_0x28d3('0x5')][_0x28d3('0xc8')];_0x48f30c[_0x28d3('0xa1')]=Math[_0x28d3('0x5c')](~~(this['s']/0x32),0xa);if(!this['ejected']&&0x14<this['s'])this['s']-=_0x48f30c[_0x28d3('0xa1')]/0x2-0x2;_0x48f30c['beginPath']();if(this[_0x28d3('0xbe')]){var _0x2baed0=0x78;var _0x2f1924=PI_2/_0x2baed0;_0x48f30c['moveTo'](this['x'],this['y']+this['s']+0x3);for(var _0x267bf9=0x1;_0x267bf9<_0x2baed0;_0x267bf9++){var _0x493230=_0x267bf9*_0x2f1924;var _0x52349e=this['s']-0x3+(_0x267bf9%0x2===0x0)*0x6;_0x48f30c[_0x28d3('0xa7')](this['x']+_0x52349e*Math[_0x28d3('0xcb')](_0x493230),this['y']+_0x52349e*Math[_0x28d3('0xcc')](_0x493230));}_0x48f30c[_0x28d3('0xa7')](this['x'],this['y']+this['s']+0x3);}else _0x48f30c[_0x28d3('0x98')](this['x'],this['y'],this['s'],0x0,PI_2,![]);_0x48f30c[_0x28d3('0xa2')]();if(this[_0x28d3('0x42')])_0x48f30c[_0x28d3('0x93')]=Math['max'](0xc8-Date[_0x28d3('0x3')]()+this[_0x28d3('0xc2')],0x0)/0x64;else _0x48f30c[_0x28d3('0x93')]=Math[_0x28d3('0x90')](Date['now']()-this[_0x28d3('0xc0')],0xc8)/0x64;if(!this[_0x28d3('0xbf')]&&0x14<this['s'])_0x48f30c[_0x28d3('0xa3')]();_0x48f30c[_0x28d3('0x99')]();if(settings[_0x28d3('0xcd')]&&this[_0x28d3('0xc6')]){var _0x5cf064=loadedSkins[this[_0x28d3('0xc6')]];if(_0x5cf064&&_0x5cf064['complete']&&_0x5cf064[_0x28d3('0x4f')]&&_0x5cf064[_0x28d3('0x50')]){_0x48f30c[_0x28d3('0xa0')]();_0x48f30c[_0x28d3('0xce')]();scaleBack(_0x48f30c);var _0x2d6c63=this['s']*cameraZ;_0x48f30c[_0x28d3('0xbb')](_0x5cf064,this['x']*cameraZ-_0x2d6c63,this['y']*cameraZ-_0x2d6c63,_0x2d6c63*=0x2,_0x2d6c63);scaleForth(_0x48f30c);_0x48f30c['restore']();}}if(!this[_0x28d3('0xbf')]&&0x14<this['s'])this['s']+=_0x48f30c[_0x28d3('0xa1')]/0x2-0x2;},'drawText':function(_0x32bc90){if(this['s']<0x14||this[_0x28d3('0xbe')])return;if(settings[_0x28d3('0xcf')]&&(cells[_0x28d3('0x44')][_0x28d3('0x9')](this['id'])!==-0x1||cells[_0x28d3('0x44')][_0x28d3('0x7')]===0x0)){var _0x3e00ed=(~~(this['s']*this['s']/0x64))[_0x28d3('0xb')]();if(this[_0x28d3('0x7f')]&&settings[_0x28d3('0xd0')]){drawText(_0x32bc90,![],this['x'],this['y'],this[_0x28d3('0xc4')],this[_0x28d3('0xc5')],this[_0x28d3('0x7f')]);var _0x358c5d=this['y']+Math[_0x28d3('0x5c')](this['s']/4.5,this[_0x28d3('0xc4')]/1.5);drawText(_0x32bc90,!![],this['x'],_0x358c5d,this[_0x28d3('0xc4')]/0x2,this[_0x28d3('0xc5')]/0x2,_0x3e00ed);}else drawText(_0x32bc90,!![],this['x'],this['y'],this['nameSize']/0x2,this[_0x28d3('0xc5')]/0x2,_0x3e00ed);}else if(this[_0x28d3('0x7f')]&&settings[_0x28d3('0xd0')])drawText(_0x32bc90,![],this['x'],this['y'],this[_0x28d3('0xc4')],this[_0x28d3('0xc5')],this['name']);}};function cacheCleanup(){for(var _0x37ab79 in cachedNames){for(var _0xe7d252 in cachedNames[_0x37ab79])if(syncAppStamp-cachedNames[_0x37ab79][_0xe7d252][_0x28d3('0xd1')]>=0x1388)delete cachedNames[_0x37ab79][_0xe7d252];if(cachedNames[_0x37ab79]==={})delete cachedNames[_0x37ab79];}for(var _0x37ab79 in cachedMass)if(syncAppStamp-cachedMass[_0x37ab79]['accessTime']>=0x1388)delete cachedMass[_0x37ab79];}var cachedNames={};var cachedMass={};function drawTextOnto(_0x40b201,_0x505258,_0x4df87e,_0x637395){_0x505258['font']=_0x637395+_0x28d3('0xac');_0x505258[_0x28d3('0xa1')]=settings[_0x28d3('0xd2')]?Math[_0x28d3('0x5c')](~~(_0x637395/0xa),0x2):0x2;_0x40b201[_0x28d3('0x4f')]=_0x505258[_0x28d3('0x86')](_0x4df87e)['width']+0x2*_0x505258[_0x28d3('0xa1')];_0x40b201[_0x28d3('0x50')]=0x4*_0x637395;_0x505258[_0x28d3('0x84')]=_0x637395+_0x28d3('0xac');_0x505258[_0x28d3('0xa1')]=settings['showTextOutline']?Math[_0x28d3('0x5c')](~~(_0x637395/0xa),0x2):0x2;_0x505258[_0x28d3('0x8d')]='middle';_0x505258[_0x28d3('0xab')]=_0x28d3('0xd3');_0x505258[_0x28d3('0x87')]=_0x28d3('0x83');_0x505258['strokeStyle']='#000';_0x505258['translate'](_0x40b201[_0x28d3('0x4f')]/0x2,0x2*_0x637395);_0x505258[_0x28d3('0xa1')]!==0x1&&_0x505258[_0x28d3('0xd4')](_0x4df87e,0x0,0x0);_0x505258[_0x28d3('0x8e')](_0x4df87e,0x0,0x0);}function drawRaw(_0x21f7ca,_0x32c812,_0x21fc04,_0x2a9fd8,_0x56d9c2){_0x21f7ca[_0x28d3('0x84')]=_0x56d9c2+_0x28d3('0xac');_0x21f7ca[_0x28d3('0x8d')]='middle';_0x21f7ca[_0x28d3('0xab')]=_0x28d3('0xd3');_0x21f7ca[_0x28d3('0xa1')]=settings[_0x28d3('0xd2')]?Math[_0x28d3('0x5c')](~~(_0x56d9c2/0xa),0x2):0x2;_0x21f7ca[_0x28d3('0x87')]=_0x28d3('0x83');_0x21f7ca['strokeStyle']='#000';_0x21f7ca[_0x28d3('0xa1')]!==0x1&&_0x21f7ca[_0x28d3('0xd4')](_0x2a9fd8,_0x32c812,_0x21fc04);_0x21f7ca['fillText'](_0x2a9fd8,_0x32c812,_0x21fc04);_0x21f7ca[_0x28d3('0xae')]();}function newNameCache(_0x3a971e,_0x344d5f){var _0x2f677d=document[_0x28d3('0x66')](_0x28d3('0x67'));var _0xd22b5e=_0x2f677d[_0x28d3('0x7e')]('2d');drawTextOnto(_0x2f677d,_0xd22b5e,_0x3a971e,_0x344d5f);cachedNames[_0x3a971e]=cachedNames[_0x3a971e]||{};cachedNames[_0x3a971e][_0x344d5f]={'width':_0x2f677d[_0x28d3('0x4f')],'height':_0x2f677d[_0x28d3('0x50')],'canvas':_0x2f677d,'value':_0x3a971e,'size':_0x344d5f,'accessTime':syncAppStamp};return cachedNames[_0x3a971e][_0x344d5f];}function newMassCache(_0x390ad6){var _0x1fce32={'0':{},'1':{},'2':{},'3':{},'4':{},'5':{},'6':{},'7':{},'8':{},'9':{}};for(var _0x12bd98 in _0x1fce32){var _0x2d7a7b=_0x1fce32[_0x12bd98]['canvas']=document[_0x28d3('0x66')](_0x28d3('0x67'));var _0x42a0b3=_0x2d7a7b[_0x28d3('0x7e')]('2d');drawTextOnto(_0x2d7a7b,_0x42a0b3,_0x12bd98,_0x390ad6);_0x1fce32[_0x12bd98][_0x28d3('0x67')]=_0x2d7a7b;_0x1fce32[_0x12bd98][_0x28d3('0x4f')]=_0x2d7a7b['width'];_0x1fce32[_0x12bd98][_0x28d3('0x50')]=_0x2d7a7b['height'];}cachedMass[_0x390ad6]={'canvases':_0x1fce32,'size':_0x390ad6,'lineWidth':settings['showTextOutline']?Math[_0x28d3('0x5c')](~~(_0x390ad6/0xa),0x2):0x2,'accessTime':syncAppStamp};return cachedMass[_0x390ad6];}function toleranceTest(_0x51b628,_0x31efed,_0x3ba209){return _0x51b628-_0x3ba209<=_0x31efed&&_0x31efed<=_0x51b628+_0x3ba209;}function getNameCache(_0x4e169a,_0x20ade2){if(!cachedNames[_0x4e169a])return newNameCache(_0x4e169a,_0x20ade2);var _0x10f1e0=Object[_0x28d3('0xd5')](cachedNames[_0x4e169a]);for(var _0x467315=0x0,_0x10022a=_0x10f1e0[_0x28d3('0x7')];_0x467315<_0x10022a;_0x467315++)if(toleranceTest(_0x20ade2,_0x10f1e0[_0x467315],_0x20ade2/0x4))return cachedNames[_0x4e169a][_0x10f1e0[_0x467315]];return newNameCache(_0x4e169a,_0x20ade2);}function getMassCache(_0x2476f0){var _0x26bd73=Object[_0x28d3('0xd5')](cachedMass);for(var _0x74d8e1=0x0,_0x57d6a0=_0x26bd73[_0x28d3('0x7')];_0x74d8e1<_0x57d6a0;_0x74d8e1++)if(toleranceTest(_0x2476f0,_0x26bd73[_0x74d8e1],_0x2476f0/0x4))return cachedMass[_0x26bd73[_0x74d8e1]];return newMassCache(_0x2476f0);}function drawText(_0x164033,_0x6e2918,_0x193f23,_0x5c4325,_0xcc01f6,_0x4a3940,_0x119a12){_0x164033['save']();if(_0xcc01f6>0x1f4)return drawRaw(_0x164033,_0x193f23,_0x5c4325,_0x119a12,_0x4a3940);_0x164033['imageSmoothingQuality']='high';if(_0x6e2918){var _0x2cb661=getMassCache(_0xcc01f6);_0x2cb661[_0x28d3('0xd1')]=syncAppStamp;var _0x48d558=_0x2cb661[_0x28d3('0xd6')];var _0x3ca463=_0x4a3940/_0x2cb661[_0x28d3('0xd7')];var _0x594e5b=0x0;for(var _0xe1dfe=0x0;_0xe1dfe<_0x119a12['length'];_0xe1dfe++)_0x594e5b+=_0x48d558[_0x119a12[_0xe1dfe]][_0x28d3('0x4f')]-0x2*_0x2cb661[_0x28d3('0xa1')];_0x164033['scale'](_0x3ca463,_0x3ca463);_0x193f23/=_0x3ca463;_0x5c4325/=_0x3ca463;_0x193f23-=_0x594e5b/0x2;for(var _0xe1dfe=0x0;_0xe1dfe<_0x119a12[_0x28d3('0x7')];_0xe1dfe++){var _0x21a20a=_0x48d558[_0x119a12[_0xe1dfe]];_0x164033[_0x28d3('0xbb')](_0x21a20a[_0x28d3('0x67')],_0x193f23,_0x5c4325-_0x21a20a[_0x28d3('0x50')]/0x2);_0x193f23+=_0x21a20a[_0x28d3('0x4f')]-0x2*_0x2cb661[_0x28d3('0xa1')];}}else{var _0x2cb661=getNameCache(_0x119a12,_0xcc01f6);_0x2cb661[_0x28d3('0xd1')]=syncAppStamp;var _0x4c2f72=_0x2cb661[_0x28d3('0x67')];var _0x3ca463=_0x4a3940/_0x2cb661['size'];_0x164033[_0x28d3('0x7b')](_0x3ca463,_0x3ca463);_0x193f23/=_0x3ca463;_0x5c4325/=_0x3ca463;_0x164033[_0x28d3('0xbb')](_0x4c2f72,_0x193f23-_0x4c2f72[_0x28d3('0x4f')]/0x2,_0x5c4325-_0x4c2f72[_0x28d3('0x50')]/0x2);}_0x164033[_0x28d3('0xae')]();}function init(){mainCanvas=document[_0x28d3('0xd8')](_0x28d3('0x67'));mainCtx=mainCanvas[_0x28d3('0x7e')]('2d');chatBox=document[_0x28d3('0xd8')](_0x28d3('0xd9'));mainCanvas['focus']();function _0x5a3368(_0xefee6f){mouseZ*=Math[_0x28d3('0xbc')](0.9,_0xefee6f[_0x28d3('0xda')]/-0x78||_0xefee6f[_0x28d3('0xdb')]||0x0);0.2>mouseZ&&(mouseZ=0.2);mouseZ>0x4/mouseZ&&(mouseZ=0x4/mouseZ);}if(/firefox/i[_0x28d3('0x54')](navigator[_0x28d3('0xdc')]))document['addEventListener'](_0x28d3('0xdd'),_0x5a3368,![]);else document[_0x28d3('0xde')][_0x28d3('0xdf')]=_0x5a3368;wHandle[_0x28d3('0xe0')]=function(_0x41fc46){switch(_0x41fc46['keyCode']){case 0xd:if(escOverlayShown)break;if(!settings['showChat'])break;if(isTyping){chatBox[_0x28d3('0xe1')]();var _0x563cdd=chatBox['value'];if(_0x563cdd['length']>0x0)sendChat(_0x563cdd);chatBox[_0x28d3('0xe2')]='';}else chatBox[_0x28d3('0xe3')]();break;case 0x20:if(isTyping||escOverlayShown||pressed[_0x28d3('0xe4')])break;wsSend(UINT8_CACHE[0x11]);pressed[_0x28d3('0xe4')]=!![];break;case 0x57:if(isTyping||escOverlayShown)break;wsSend(UINT8_CACHE[0x15]);pressed['w']=!![];break;case 0x51:if(isTyping||escOverlayShown||pressed['q'])break;wsSend(UINT8_CACHE[0x12]);pressed['q']=!![];break;case 0x45:if(isTyping||escOverlayShown||pressed['e'])break;wsSend(UINT8_CACHE[0x16]);pressed['e']=!![];break;case 0x52:if(isTyping||escOverlayShown||pressed['r'])break;wsSend(UINT8_CACHE[0x17]);pressed['r']=!![];break;case 0x54:if(isTyping||escOverlayShown||pressed['t'])break;wsSend(UINT8_CACHE[0x18]);pressed['t']=!![];break;case 0x50:if(isTyping||escOverlayShown||pressed['p'])break;wsSend(UINT8_CACHE[0x19]);pressed['p']=!![];break;case 0x1b:if(pressed['esc'])break;pressed[_0x28d3('0xe5')]=!![];if(escOverlayShown)hideESCOverlay();else showESCOverlay();break;}};wHandle[_0x28d3('0xe6')]=function(_0x1e277d){switch(_0x1e277d[_0x28d3('0xe7')]){case 0x20:pressed['space']=![];break;case 0x57:pressed['w']=![];break;case 0x51:if(pressed['q'])wsSend(UINT8_CACHE[0x13]);pressed['q']=![];break;case 0x45:pressed['e']=![];break;case 0x52:pressed['r']=![];break;case 0x54:pressed['t']=![];break;case 0x50:pressed['p']=![];break;case 0x1b:pressed['esc']=![];break;}};chatBox[_0x28d3('0xe8')]=function(){isTyping=![];drawChat();};chatBox['onfocus']=function(){isTyping=!![];drawChat();};mainCanvas[_0x28d3('0xe9')]=function(_0x233413){mouseX=_0x233413[_0x28d3('0xea')];mouseY=_0x233413[_0x28d3('0xeb')];};setInterval(function(){sendMouseMove((mouseX-mainCanvas[_0x28d3('0x4f')]/0x2)/cameraZ+cameraX,(mouseY-mainCanvas[_0x28d3('0x50')]/0x2)/cameraZ+cameraY);},0x28);wHandle['onresize']=function(){var _0x19bd31=mainCanvas[_0x28d3('0x4f')]=wHandle['innerWidth'],_0x9f9012=mainCanvas[_0x28d3('0x50')]=wHandle['innerHeight'];viewMult=Math[_0x28d3('0xec')](Math[_0x28d3('0x90')](_0x9f9012/0x438,_0x19bd31/0x780));};wHandle[_0x28d3('0xed')]();var _0x499b0f=document['getElementById']('mobileStuff');var _0x2e00f7=document[_0x28d3('0xd8')]('touchpad');var _0x19cef2=document[_0x28d3('0xd8')](_0x28d3('0xee'));var _0x5af5e4=0.2;var _0x57cd0e=![];wHandle[_0x28d3('0xef')]('touchstart',function(_0x558b00){if(!_0x57cd0e){_0x57cd0e=!![];_0x499b0f[_0x28d3('0xf0')][_0x28d3('0xf1')]='block';}if(_0x558b00[_0x28d3('0xf2')]['id']==_0x28d3('0xf3')){wsSend(UINT8_CACHE[0x11]);}else if(_0x558b00['target']['id']==_0x28d3('0xf4')){wsSend(UINT8_CACHE[0x15]);}else{_0x220a5f(_0x558b00);}_0x19cef2[_0x28d3('0xf0')][_0x28d3('0xf1')]=_0x28d3('0xf5');});var _0x220a5f;wHandle[_0x28d3('0xef')](_0x28d3('0xf6'),_0x220a5f=function(_0x58eda4){var _0x62e053=_0x58eda4['touches'][0x0];var _0x2fc9f3=innerWidth*_0x5af5e4;var _0x342a89=innerHeight*_0x5af5e4;if(_0x62e053[_0x28d3('0xf7')]<_0x2fc9f3&&_0x62e053[_0x28d3('0xf8')]>innerHeight-_0x342a89){mouseX=innerWidth/0x2+(_0x62e053[_0x28d3('0xf7')]-_0x2fc9f3/0x2)*innerWidth/_0x2fc9f3;mouseY=innerHeight/0x2+(_0x62e053[_0x28d3('0xf8')]-(innerHeight-_0x342a89/0x2))*innerHeight/_0x342a89;}else{mouseX=_0x62e053[_0x28d3('0xf7')];mouseY=_0x62e053[_0x28d3('0xf8')];}var _0x375a3a=innerWidth*0.02;_0x19cef2[_0x28d3('0xf0')][_0x28d3('0x4a')]=mouseX-_0x375a3a+'px';_0x19cef2[_0x28d3('0xf0')]['top']=mouseY-_0x375a3a+'px';});wHandle[_0x28d3('0xef')](_0x28d3('0xf9'),function(_0x23b58d){if(_0x23b58d[_0x28d3('0xfa')][_0x28d3('0x7')]===0x0){_0x19cef2['style']['display']=_0x28d3('0xfb');}});log[_0x28d3('0x21')](_0x28d3('0xfc')+(Date[_0x28d3('0x3')]()-LOAD_START)+'ms');gameReset();showESCOverlay();if(settings[_0x28d3('0xfd')]&&wHandle[_0x28d3('0x24')][_0x28d3('0xfe')]){var _0x58fd80=/ip=([\w\W]+):([0-9]+)/['exec'](wHandle[_0x28d3('0x24')][_0x28d3('0xfe')]['slice'](0x1));if(_0x58fd80)wsInit(_0x58fd80[0x1]+':'+_0x58fd80[0x2]);}window[_0x28d3('0xff')](drawGame);}wHandle[_0x28d3('0x100')]=function(_0x4d3df4){if(wsUrl===_0x4d3df4)return;wsInit(_0x4d3df4);wsUrl=_0x4d3df4;};wHandle[_0x28d3('0x101')]=function(_0x1bde09){settings['darkTheme']=_0x1bde09;drawStats();};wHandle['setShowMass']=function(_0x15c26c){settings[_0x28d3('0xcf')]=_0x15c26c;};wHandle[_0x28d3('0x102')]=function(_0x1a15cb){settings['showSkins']=_0x1a15cb;};wHandle['setColors']=function(_0x459702){settings[_0x28d3('0xca')]=!_0x459702;};wHandle[_0x28d3('0x103')]=function(_0x129a71){settings[_0x28d3('0xd0')]=_0x129a71;};wHandle[_0x28d3('0x104')]=function(_0x1889d0){settings[_0x28d3('0xb2')]=_0x1889d0;};wHandle[_0x28d3('0x105')]=function(_0x194b81){settings['showChat']=!_0x194b81;drawChat();_0x194b81?$(_0x28d3('0x106'))[_0x28d3('0x107')]('slow'):$(_0x28d3('0x106'))[_0x28d3('0x79')](_0x28d3('0x108'));};wHandle[_0x28d3('0x109')]=function(_0x36e01a){settings['showMinimap']=!_0x36e01a;};wHandle[_0x28d3('0x10a')]=function(_0x2c6329){wsSend(UINT8_CACHE[0x1]);stats[_0x28d3('0xb8')]=0x0;hideESCOverlay();};wHandle[_0x28d3('0x10b')]=function(_0x15f2a7,_0x1b02b8){if(_0x1b02b8)_0x15f2a7='{'+_0x1b02b8+'}'+_0x15f2a7;sendPlay(_0x15f2a7);hideESCOverlay();};wHandle[_0x28d3('0x10c')]=function(){if(wjQuery(_0x28d3('0x10d'))['text']()===_0x28d3('0x10e'))return;wjQuery[_0x28d3('0x10f')](_0x28d3('0x110'))[_0x28d3('0x111')](function(_0x12c96c){wjQuery(_0x28d3('0x10d'))[_0x28d3('0x112')]('Skins');wjQuery(_0x28d3('0x113'))[_0x28d3('0x114')](_0x12c96c);});};wHandle[_0x28d3('0x115')]=init;window[_0x28d3('0xef')]('keydown',keydown);window['addEventListener'](_0x28d3('0x116'),keyup);var EjectDown=![];var speed=0x19;function keydown(_0x38dca9){if(_0x38dca9[_0x28d3('0xe7')]==0x45){EjectDown=!![];setTimeout(eject,speed);}if(_0x38dca9[_0x28d3('0xe7')]==0x46){for(var _0xc01c08=0x0;_0xc01c08<0x4;_0xc01c08++){setTimeout(function(){split();$(_0x28d3('0xde'))[_0x28d3('0x117')]($[_0x28d3('0x118')](_0x28d3('0x119'),{'keyCode':0x57}));$(_0x28d3('0xde'))[_0x28d3('0x117')]($[_0x28d3('0x118')](_0x28d3('0x116'),{'keyCode':0x57}));},_0xc01c08*0x32);}}if(_0x38dca9[_0x28d3('0xe7')]==0x43){split();setTimeout(split,Math[_0x28d3('0x11a')]()*(0x15e-0xc8)+0xc8);}if(_0x38dca9[_0x28d3('0xe7')]==0x31||_0x38dca9[_0x28d3('0xe7')]==0x53){split();}if(_0x38dca9[_0x28d3('0xe7')]==0x10||_0x38dca9['keyCode']==0x34){for(var _0xa1c248=0x0;_0xa1c248<0x4;_0xa1c248++)setTimeout(split,_0xa1c248*0x32);}if(_0x38dca9[_0x28d3('0xe7')]==0x41||_0x38dca9['keyCode']==0x33){for(var _0x691935=0x0;_0x691935<0x3;_0x691935++)setTimeout(split,_0x691935*0x32);}if(_0x38dca9['keyCode']==0x44||_0x38dca9[_0x28d3('0xe7')]==0x32){split();setTimeout(split,0x32);}if(_0x38dca9['keyCode']==0x48){X=window['innerWidth']/0x2;Y=window[_0x28d3('0x11b')]/0x2;$('canvas')[_0x28d3('0x117')]($[_0x28d3('0x118')](_0x28d3('0x11c'),{'clientX':X,'clientY':Y}));}if(_0x38dca9[_0x28d3('0xe7')]==0x56){X=window[_0x28d3('0x11d')]/0x2;Y=window[_0x28d3('0x11b')]/2.006;$(_0x28d3('0x67'))[_0x28d3('0x117')]($[_0x28d3('0x118')](_0x28d3('0x11c'),{'clientX':X,'clientY':Y}));}}function split(){$(_0x28d3('0xde'))[_0x28d3('0x117')]($['Event']('keydown',{'keyCode':0x20}));$('body')[_0x28d3('0x117')]($['Event'](_0x28d3('0x116'),{'keyCode':0x20}));}function keyup(_0x518ee6){if(_0x518ee6[_0x28d3('0xe7')]==0x45){EjectDown=![];}}function eject(){if(EjectDown){window[_0x28d3('0xe0')]({'keyCode':0x57});window[_0x28d3('0xe6')]({'keyCode':0x57});setTimeout(eject,speed);}}function setOptionText(_0x12bf20,_0x3be1b6,_0x557019,_0x7962b2){if(_0x557019!=null){var _0x24b538='?';if(_0x557019[_0x28d3('0x11e')]>0x0){_0x24b538=_0x557019['current_players'];}document['getElementById'](_0x12bf20)['innerHTML']=_0x3be1b6+'\x20[\x20'+_0x24b538+_0x28d3('0x11f')+_0x557019[_0x28d3('0x120')]+'\x20]';}}function checkServers(_0x43f835){$[_0x28d3('0x121')]({'url':_0x28d3('0x122')+Math['floor'](Math[_0x28d3('0x11a')]()*0x5f5e100+0x1),'success':function(_0x25ca57){setOptionText(_0x28d3('0x123'),_0x28d3('0x124'),_0x25ca57[_0x28d3('0x125')],_0x43f835);setOptionText(_0x28d3('0x126'),_0x28d3('0x127'),_0x25ca57[_0x28d3('0x128')],_0x43f835);setOptionText(_0x28d3('0x129'),_0x28d3('0x12a'),_0x25ca57[_0x28d3('0x12b')],_0x43f835);setOptionText(_0x28d3('0x12c'),_0x28d3('0x12d'),_0x25ca57[_0x28d3('0x12e')],_0x43f835);setOptionText('option_ffa5',_0x28d3('0x12f'),_0x25ca57[_0x28d3('0x130')],_0x43f835);setOptionText(_0x28d3('0x131'),_0x28d3('0x132'),_0x25ca57[_0x28d3('0x133')],_0x43f835);setOptionText('option_ffaplus7',_0x28d3('0x134'),_0x25ca57['FFA\x207'],_0x43f835);setOptionText(_0x28d3('0x135'),'FFA\x20(8)',_0x25ca57[_0x28d3('0x136')],_0x43f835);setOptionText(_0x28d3('0x137'),_0x28d3('0x138'),_0x25ca57[_0x28d3('0x139')],_0x43f835);setOptionText(_0x28d3('0x13a'),_0x28d3('0x13b'),_0x25ca57[_0x28d3('0x13c')],_0x43f835);setOptionText(_0x28d3('0x13d'),_0x28d3('0x13e'),_0x25ca57[_0x28d3('0x13f')],_0x43f835);setOptionText(_0x28d3('0x140'),_0x28d3('0x141'),_0x25ca57[_0x28d3('0x142')],_0x43f835);setOptionText('option_ffaplus13',_0x28d3('0x143'),_0x25ca57[_0x28d3('0x144')],_0x43f835);setOptionText(_0x28d3('0x145'),'FFA\x20(14)',_0x25ca57[_0x28d3('0x146')],_0x43f835);setOptionText(_0x28d3('0x147'),_0x28d3('0x148'),_0x25ca57[_0x28d3('0x149')],_0x43f835);},'error':function(){setTimeout(function(){checkServers(0x0);},0xafc8);}});}